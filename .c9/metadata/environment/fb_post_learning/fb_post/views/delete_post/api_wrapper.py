{"changed":true,"filter":false,"title":"api_wrapper.py","tooltip":"/fb_post_learning/fb_post/views/delete_post/api_wrapper.py","value":"from django.http import HttpResponse\nfrom django_swagger_utils.drf_server.utils.decorator.interface_decorator \\\n    import validate_decorator\nfrom raven.utils import json\nfrom .validator_class import ValidatorClass\nfrom fb_post.utils import delete_post\nfrom fb_post.utils.exceptions import (InvalidPostException,\n                                      UserCannotDeletePostException)\nfrom fb_post.constants.exception_messages import (INVALID_POST,\n                                                  INVALID_USER_TO_DELETE_POST)\nfrom django_swagger_utils.drf_server.exceptions import (NotFound,\n                                                        Forbidden)\n\n\n@validate_decorator(validator_class=ValidatorClass)\ndef api_wrapper(*args, **kwargs):\n    user = kwargs['user']\n    post_id = kwargs[\"post_id\"]\n\n    try:\n        delete_post(user_id=user.id, post_id=post_id)\n    except UserCannotDeletePostException:\n        raise Forbidden(*INVALID_USER_TO_DELETE_POST)\n    except InvalidPostException:\n        raise NotFound(*INVALID_POST)\n\n    response = HttpResponse(status=200)\n    return response\n    # ---------MOCK IMPLEMENTATION---------\n","undoManager":{"mark":-2,"position":0,"stack":[[{"start":{"row":29,"column":0},"end":{"row":30,"column":0},"action":"remove","lines":["",""],"id":8}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":29,"column":0},"end":{"row":29,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1588911601031}