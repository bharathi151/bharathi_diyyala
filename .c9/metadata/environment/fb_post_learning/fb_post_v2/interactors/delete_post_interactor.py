{"changed":true,"filter":false,"title":"delete_post_interactor.py","tooltip":"/fb_post_learning/fb_post_v2/interactors/delete_post_interactor.py","value":"from .storages.post_storage_interface import StorageInterface\nfrom .presenters.presenter_interface import PresenterInterface\n\nclass DeletePostInteractor:\n    def __init__(self, storage: StorageInterface,\n                 presenter: PresenterInterface):\n        self.storage = storage\n        self.presenter = presenter\n\n    def delete_post(self,user_id: int, post_id: int):\n        is_post_id_valid = self.storage.is_valid_post_id(post_id)\n        is_post_id_invalid = not is_post_id_valid\n\n        if is_post_id_invalid:\n            self.presenter.raise_invalid_post_id_exception()\n            return\n\n        can_user_delete_post = self.storage.can_user_delete_post(\n            user_id, post_id\n        )\n\n        if can_user_delete_post:\n            self.storage.delete_post(\n                user_id, post_id\n            )\n            return\n\n        self.presenter.raise_user_cannot_delete_post_exception()\n        return \n","undoManager":{"mark":-2,"position":1,"stack":[[{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"insert","lines":["p"],"id":2}],[{"start":{"row":0,"column":15},"end":{"row":0,"column":33},"action":"remove","lines":["pstorage_interface"],"id":3},{"start":{"row":0,"column":15},"end":{"row":0,"column":37},"action":"insert","lines":["post_storage_interface"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":37},"end":{"row":0,"column":37},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1589955300676}