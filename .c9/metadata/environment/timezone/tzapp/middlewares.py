{"filter":false,"title":"middlewares.py","tooltip":"/timezone/tzapp/middlewares.py","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":6},"end":{"row":4,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"mode":"ace/mode/python"}},"hash":"d639f25e21a5bfafe7768834a55750f405aebeb9","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":14,"column":41},"action":"insert","lines":["import pytz","","from django.utils import timezone","","class TimezoneMiddleware:","    def __init__(self, get_response):","        self.get_response = get_response","","    def __call__(self, request):","        tzname = request.session.get('django_timezone')","        if tzname:","            timezone.activate(pytz.timezone(tzname))","        else:","            timezone.deactivate()","        return self.get_response(request)"],"id":1}]]},"timestamp":1589448620498}